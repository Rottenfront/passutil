# passutil
Инструмент для генерации паспорта OE

## Мануал

Я буду рассматривать Windows-версию, на все остальные десктопные ОС принципы распространяются те же.

У вас в папке с релизной сборкой есть (или вы должны их добавить) ряд файлов и папок.

Первый ключевой файл - `passutil.exe` - исполняемый, его нужно запускать когда вся настройка готова.

Второй ключевой файл - `config.json` - это текстовый файл с настройками, его можно открыть в блокноте или в любом другом текстовом редакторе.

Третий ключевой файл - `avatar.png` - картинка аватарки, должна быть квадратной, любого разрешения.

Первая ключевая папка - `friends` - папка с аватарками друзей. Всех друзей, которых хочется добавить в паспорт, нужно загрузить самостоятельно в эту папку.

Последующие папки - `backgrounds`, `badges`, `banners` и `frames` - это папки с изначальным "материалом". Каждая из папок содержит поддиректории, названия которых пишутся без пробелов латиницей. В этих поддиректориях находятся изображения, нумеруемые от 1 и далее по порядку.

### Настройка

Файл `config.json` содержит в себе настройки в JSON нотации. Общее значение этого понятия нас не интересует, лишь некоторые важные вещи:

В файле есть 8 входов:

```json
    "nickname": {
        ...
    },
    "entry_time": {
        ...
    },
    "about": {
        ...
    },
    "background": {
        ...
    },
    "banners": [
        ...
    ],
    "main_badges": [
        ...
    ],
    "badges": [
        ...
    ],
    "frame": {
        ...
    }
```

`"nickname"`, `"entry_time"`, `"about"` - описание текста никнейма, времени входа и "О себе" соответственно.

В каждом из описаний есть 3 поля: `"text"`, `"font"`, `"color"`. В поле `"text"` указывается строка в кавычках с нужным содержанием. Чтобы перенести строку, нужно написать `\n`. Чтобы написать бэкслеш, нужно написать `\\`. В поле `"font"` указывается шрифт, которым должен быть нарисован текст, по типу: `"Times New Roman"`, `"Cascadia Code"`, `"Consolas"`. В поле `"color"` указывается цвет в формате HEX: `"#000000"`, `"#ff0000"`, `"#abcdef"`.

Пример конфигурации:
```json
"nickname": {
    "text": "rottenfront",
    "font": "Cascadia Code",
    "color": "#000000"
},
"entry_time": {
    "text": "Thu, Nov 11, 2021 8:29 PM",
    "font": "Times New Roman",
    "color": "#000000"
},
"about": {
    "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
    "font": "Consolas",
    "color": "#000000"
},
```

В поле `"background"` указывается желаемый фон для паспорта в формате `{ "подгруппа": номер }`. Подгруппы - как ранее сказано - находятся в папке `backgrounds`. Номера - названия файлов с фоном. То же самое распространяется на все остальные графические элементы.

```json
"background": {
    "all": 1
},
```

В поле `"banners"` находится массив из 2 баннеров того же формата, что и поле "background":

```json
"banners": [
    { "all": 1 },
    { "all": 2 }
],
```

В поле `"main_badges"` находятся ваши любимые стикеры - сверху вниз, 2 штуки:

```json
"main_badges": [
    { "all": 1 },
    { "all": 2 }
],
```

В поле `"badges"` находится матрица 5 строк по 4 значка, т. е. массив из 5 строк по 4 значка того же формата что и поле `"background"`. Для значков есть дополнительный вариант: если вы хотите, чтобы значка на этом месте не было, пишите вместо `{ "подгруппа": номер }` строку `"none"`

```json
"badges": [
    [
        "none",
        { "all": 4 },
        { "all": 4 },
        { "all": 4 }
    ],
    [
        { "all": 4 },
        "none",
        { "all": 4 },
        { "all": 4 }
    ],
    [
        { "all": 4 },
        { "all": 4 },
        { "all": 4 },
        { "all": 4 }
    ],
    [
        { "all": 4 },
        { "all": 4 },
        { "all": 4 },
        "none"
    ],
    [
        { "all": 4 },
        { "all": 4 },
        { "all": 4 },
        { "all": 4 }
    ]
],
```

В поле `"frame"` находятся рамки, которые вам хочется использовать. Если вы не хотите иметь рамки, пишите `"none"`:

```json
"frame": { "classic": 1 }
```
или
```json
"frame": "none"
```

После того, как вы разобрались с `config.json`, загрузите свою аватарку в `avatar.png` и своих друзей в папку `friends`. Затем запускайте `passutil.exe`. Если он не выдаст ошибок, у вас появится файл `res.png` с паспортом.